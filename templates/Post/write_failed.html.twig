{% extends 'Template/StandardTemplate.html.twig' %}

{% block title %}Kommentar schreiben{% endblock %}

{% block content %}
    <div class="container">
        <div class="row">
            <div class="col-md-6 offset-md-3">
                <h1>
                    Hoppla: Vertippt?
                </h1>

                <p class="lead">
                    Du hast leider gar keinen Kommentar eingegeben.
                </p>
            </div>
        </div>

        {% if app.user %}

            {{ form_start(form, {'attr': {'id': 'form-post', 'role': 'form'}}) }}

            <div class="row">
                <div class="col-md-6 offset-md-3">
                    <div class="mb-3">
                        <label class="form-label">Dein Kommentar:</label>
                        {{ form_widget(form.message, {'attr': {'class': 'form-control' ~ (form_errors(form.message) ? ' is-invalid' : ''), 'rows': 10}}) }}
                        {% if form_errors(form.message) %}
                            <div class="invalid-feedback d-block">
                                {{ form_errors(form.message) }}
                            </div>
                        {% endif %}
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-md-6 offset-md-3">
                    <div class="form-check mb-3">
                        <input
                                type="checkbox"
                                id="form-post-share-location"
                                class="form-check-input"
                                checked="checked"
                        />
                        <label class="form-check-label" for="form-post-share-location">
                            Wenn du diese Checkbox aktivierst, speichern wir deinen Aufenthaltsort zu deinem Kommentar,
                            um ihn später auf einer Karte verorten zu können. Natürlich kannst du später die Koordinaten
                            deines Kommentares entfernen.
                        </label>
                    </div>
                </div>
            </div>

            {{ form_widget(form._token) }}
            {{ form_widget(form.latitude) }}
            {{ form_widget(form.longitude) }}

            <div class="row">
                <div class="col-md-6 offset-md-3">
                    <div class="btn-group" role="group" aria-label="Kommentar-Aktionen">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
                            Abbrechen
                        </button>
                        <button type="submit" id="button-submit-post" class="btn btn-success">
                            <i class="far fa-pencil"></i>
                            Speichern
                        </button>
                    </div>
                </div>
            </div>

            {{ form_end(form) }}
        {% endif %}
    </div>
{% endblock %}
