{% extends 'Template/StandardTemplate.html.twig' %}

{% block title %}{{ thread.title }}{% endblock %}

{% import '_macros/breadcrumb.html.twig' as bc %}

{% block breadcrumbs %}
    {{ bc.render(
        [
            { label: 'Diskussionen', url: path('caldera_criticalmass_board_overview') },
            { label: board.title, url: object_path(board) },
            { label: thread.title }
        ],
        {
            homeLabel: 'Critical Mass',
            homeUrl: path('caldera_criticalmass_frontpage')
        }
    ) }}
{% endblock %}

{% block content %}
    <div class="container">
        <div class="row">
            <div class="col-12">
                {% if app.getUser() %}
                    <button type="button" class="btn btn-primary float-end mt-3"
                            data-bs-toggle="modal"
                            data-bs-target="#modal-add-post">
                        <i class="far fa-comment"></i>
                        Antwort hinzuf√ºgen
                    </button>

                    {{ render(controller('App\\Controller\\PostController::writeThreadAction', {
                        'threadSlug': thread.slug,
                        'noButton': true
                    })) }}
                {% endif %}
                <h2 class="mt-4">
                    {{ thread.title }}
                </h2>
            </div>
        </div>

        <div class="row">
            <div class="col-12">
                <div class="post-list">
                    {% for post in posts %}
                        {% include 'Post/post.html.twig' with { 'post': post } %}
                    {% endfor %}
                </div>
            </div>
        </div>
    </div>
{% endblock %}
