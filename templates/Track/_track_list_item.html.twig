<div class="col-md-4 mb-4">
    <div class="card{% if not track.enabled %} border-warning{% elseif not track.reviewed %} border-danger{% endif %}">
        <div class="card-header">
            <a href="{{ object_path(track.ride) }}">
                {{ track.ride.title }}
            </a>
        </div>

        <div class="card-body">
            <div class="row mb-3">
                <div class="col-md-12">
                    <div
                            id="map-{{ track.id }}"
                            class="map"
                            style="height: 150px;"
                            data-controller="map--map"
                            data-map--map-lock-map-value="true"
                            data-map--map-polyline-color-value="{{ track.user.color }}"
                            data-map--map-polyline-value="{{ track.polyline }}"
                    ></div>
                </div>
            </div>

            <div class="row">
                {% if show_city is not defined or show_city == true %}
                    <div class="col-md-6">
                        <dl>
                            <dt>Stadt</dt>
                            <dd>
                                <a href="{{ object_path(track.ride.city) }}">
                                    {{ track.ride.city.city }}
                                </a>
                            </dd>
                        </dl>
                    </div>
                {% endif %}

                {% if show_user is not defined or show_user == true %}
                    <div class="col-md-6">
                        <dl>
                            <dt>Teilnehmer</dt>
                            <dd>
                                {{ track.user.username }}
                            </dd>
                        </dl>
                    </div>
                {% endif %}

                <div class="col-md-6">
                    <dl>
                        <dt>Datum</dt>
                        <dd>
                            <a href="{{ object_path(track) }}">
                                {{ track.ride.dateTime|date('d.m.Y') }}
                            </a>
                        </dd>
                    </dl>
                </div>
            </div>

            <div class="row">
                <div class="col-md-4">
                    <dl>
                        <dt>LÃ¤nge</dt>
                        <dd>
                            {{ track.distance|number_format(2) }}&nbsp;km
                        </dd>
                    </dl>
                </div>

                <div class="col-md-4">
                    <dl>
                        <dt>Beginn</dt>
                        <dd>
                            {{ track.startDateTime|date('H:i', track.ride.city.timezone) }}&nbsp;Uhr
                        </dd>
                    </dl>
                </div>

                <div class="col-md-4">
                    <dl>
                        <dt>Ende</dt>
                        <dd>
                            {{ track.endDateTime|date('H:i', track.ride.city.timezone) }}&nbsp;Uhr
                        </dd>
                    </dl>
                </div>
            </div>

            {% if is_granted('edit', track) %}
                <div class="row mt-3">
                    <div class="col-md-12">
                        {% include 'Track/_track_options_menu.html.twig' with { 'track': track } %}
                    </div>
                </div>
            {% endif %}
        </div>
    </div>
</div>
